!function(){function t(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var i,o,r=[],c=!0,s=!1;try{for(n=n.call(t);!(c=(i=n.next()).done)&&(r.push(i.value),!e||r.length!==e);c=!0);}catch(a){s=!0,o=a}finally{try{c||null==n.return||n.return()}finally{if(s)throw o}}return r}(t,e)||a(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(t,n,i){return(e="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=c(t)););return t}(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}})(t,n,i||t)}function n(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function o(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=c(t);if(e){var o=c(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return r(this,n)}}function r(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t){return function(t){if(Array.isArray(t))return u(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||a(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){if(t){if("string"==typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(t,e):void 0}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function l(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function f(t,e,n){return e&&l(t.prototype,e),n&&l(t,n),t}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{Jc03:function(i,a,u){"use strict";function l(t,e,n,i){var o,r=arguments.length,c=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(c=(r<3?o(c):r>3?o(e,n,c):o(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c}u.r(a),u.d(a,"EXAMPLE_COMPONENTS",function(){return Jt}),u.d(a,"EXAMPLES_MODULE",function(){return Xt});var h=u("EM62"),p="__THY_META__",g=new h.r("ROOT_STATE_TOKEN"),b=new h.r("FEATURE_STATE_TOKEN");Error;function v(){null}var y,m,_,k=((_=function t(e){d(this,t),e.injector,e.onDestroy(v)}).\u0275fac=function(t){return new(t||_)(h.Xb(h.y))},_.\u0275mod=h.Lb({type:_}),_.\u0275inj=h.Kb({}),_),O=((m=function t(){d(this,t)}).\u0275fac=function(t){return new(t||m)},m.\u0275mod=h.Lb({type:m}),m.\u0275inj=h.Kb({}),m),x=((y=function(){function t(){d(this,t)}return f(t,null,[{key:"forRoot",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{ngModule:k,providers:[].concat(s(t),[{provide:g,useValue:t}])}}},{key:"forFeature",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{ngModule:O,providers:[].concat(s(t),[{provide:b,multi:!0,useValue:t}])}}}]),t}()).\u0275fac=function(t){return new(t||y)},y.\u0275mod=h.Lb({type:y}),y.\u0275inj=h.Kb({}),y),w=u("C05f"),C=u("GoAz"),M=u("IdLP"),P=u("YtkY"),S=u("ZTXN"),T=function(t){n(r,t);var i=o(r);function r(t,e){var n;return d(this,r),(n=i.call(this,t,e)).scheduler=t,n.work=e,n}return f(r,[{key:"schedule",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return n>0?e(c(r.prototype),"schedule",this).call(this,t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)}},{key:"execute",value:function(t,n){return n>0||this.closed?e(c(r.prototype),"execute",this).call(this,t,n):this._execute(t,n)}},{key:"requestAsyncId",value:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==i&&i>0||null===i&&this.delay>0?e(c(r.prototype),"requestAsyncId",this).call(this,t,n,i):t.flush(this)}}]),r}(u("EWqr").a),I=new(function(t){n(i,t);var e=o(i);function i(){return d(this,i),e.apply(this,arguments)}return i}(u("DG/E").a))(T),j=u("bwdy"),E=u("5uGe"),N=u("6Oco"),R=u("ROBh");function A(t,e){return new M.a(e?function(n){return e.schedule(z,0,{error:t,subscriber:n})}:function(e){return e.error(t)})}function z(t){var e=t.error;t.subscriber.error(e)}var D,B=((D=function(){function t(e,n,i){d(this,t),this.kind=e,this.value=n,this.error=i,this.hasValue="N"===e}return f(t,[{key:"observe",value:function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}},{key:"do",value:function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}},{key:"accept",value:function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}},{key:"toObservable",value:function(){switch(this.kind){case"N":return Object(R.a)(this.value);case"E":return A(this.error);case"C":return Object(N.b)()}throw new Error("unexpected notification kind value")}}],[{key:"createNext",value:function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}},{key:"createError",value:function(e){return new t("E",void 0,e)}},{key:"createComplete",value:function(){return t.completeNotification}}]),t}()).completeNotification=new D("C"),D.undefinedValueNotification=new D("N",void 0),D),F=function(t){n(i,t);var e=o(i);function i(t,n){var o,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return d(this,i),(o=e.call(this,t)).scheduler=n,o.delay=r,o}return f(i,[{key:"scheduleMessage",value:function(t){this.destination.add(this.scheduler.schedule(i.dispatch,this.delay,new K(t,this.destination)))}},{key:"_next",value:function(t){this.scheduleMessage(B.createNext(t))}},{key:"_error",value:function(t){this.scheduleMessage(B.createError(t)),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleMessage(B.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(t){var e=t.notification,n=t.destination;e.observe(n),this.unsubscribe()}}]),i}(E.a),K=function t(e,n){d(this,t),this.notification=e,this.destination=n},$=u("MiDb"),W=u("yTkW"),L=function(t){n(r,t);var i=o(r);function r(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY,o=arguments.length>2?arguments[2]:void 0;return d(this,r),(t=i.call(this)).scheduler=o,t._events=[],t._infiniteTimeWindow=!1,t._bufferSize=e<1?1:e,t._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(t._infiniteTimeWindow=!0,t.next=t.nextInfiniteTimeWindow):t.next=t.nextTimeWindow,t}return f(r,[{key:"nextInfiniteTimeWindow",value:function(t){if(!this.isStopped){var n=this._events;n.push(t),n.length>this._bufferSize&&n.shift()}e(c(r.prototype),"next",this).call(this,t)}},{key:"nextTimeWindow",value:function(t){this.isStopped||(this._events.push(new U(this._getNow(),t)),this._trimBufferThenGetEvents()),e(c(r.prototype),"next",this).call(this,t)}},{key:"_subscribe",value:function(t){var e,n=this._infiniteTimeWindow,i=n?this._events:this._trimBufferThenGetEvents(),o=this.scheduler,r=i.length;if(this.closed)throw new $.a;if(this.isStopped||this.hasError?e=j.a.EMPTY:(this.observers.push(t),e=new W.a(this,t)),o&&t.add(t=new F(t,o)),n)for(var c=0;c<r&&!t.closed;c++)t.next(i[c]);else for(var s=0;s<r&&!t.closed;s++)t.next(i[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e}},{key:"_getNow",value:function(){return(this.scheduler||I).now()}},{key:"_trimBufferThenGetEvents",value:function(){for(var t=this._getNow(),e=this._bufferSize,n=this._windowTime,i=this._events,o=i.length,r=0;r<o&&!(t-i[r].time<n);)r++;return o>e&&(r=Math.max(r,o-e)),r>0&&i.splice(0,r),i}}]),r}(S.a),U=function t(e,n){d(this,t),this.time=e,this.value=n};function V(t,e,n){var i;return i=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},function(t){return t.lift(function(t){var e,n,i=t.bufferSize,o=void 0===i?Number.POSITIVE_INFINITY:i,r=t.windowTime,c=void 0===r?Number.POSITIVE_INFINITY:r,s=t.refCount,a=t.scheduler,u=0,l=!1,f=!1;return function(t){var i;u++,!e||l?(l=!1,e=new L(o,c,a),i=e.subscribe(this),n=t.subscribe({next:function(t){e.next(t)},error:function(t){l=!0,e.error(t)},complete:function(){f=!0,n=void 0,e.complete()}}),f&&(n=void 0)):i=e.subscribe(this),this.add(function(){u--,i.unsubscribe(),i=void 0,n&&!f&&s&&0===u&&(n.unsubscribe(),n=void 0,e=void 0)})}}(i))}}var Y,J,X=function(){function t(e,n){d(this,t),this.compare=e,this.keySelector=n}return f(t,[{key:"call",value:function(t,e){return e.subscribe(new G(t,this.compare,this.keySelector))}}]),t}(),G=function(t){n(i,t);var e=o(i);function i(t,n,o){var r;return d(this,i),(r=e.call(this,t)).keySelector=o,r.hasKey=!1,"function"==typeof n&&(r.compare=n),r}return f(i,[{key:"compare",value:function(t,e){return t===e}},{key:"_next",value:function(t){var e;try{var n=this.keySelector;e=n?n(t):t}catch(o){return this.destination.error(o)}var i=!1;if(this.hasKey)try{i=(0,this.compare)(this.key,e)}catch(o){return this.destination.error(o)}else this.hasKey=!0;i||(this.key=e,this.destination.next(t))}}]),i}(E.a),H=u("HM3f"),q=u("TLy2"),Z=u("8j5Y"),Q=function(){function t(){if(d(this,t),this._devTools=null,this._window=window,null!=this._window){var e=this._window.__REDUX_DEVTOOLS_EXTENSION__||this._window.devToolsExtension;if(!e)return console.log("\u672a\u5b89\u88c5Chrome\u6d4f\u89c8\u5668\u7684\u62d3\u5c55\u63d2\u4ef6: Redux DevTools."),void console.log("\u63d2\u4ef6\u4e0b\u8f7d\u5730\u5740: https://www.chromefor.com/redux-devtools_v2-17-0/");this._devTools=e.connect({name:"NgxStore v0.6.0"})}}return f(t,[{key:"handleNewState",value:function(t,e){this.isConnectSuccessed()&&this._devTools.send(t,e)}},{key:"isConnectSuccessed",value:function(){return null!==this._devTools}}]),t}(),tt=function(){var t=function(){function t(){d(this,t)}return f(t,null,[{key:"changeAction",value:function(t){this.actionName=t}},{key:"getActionName",value:function(){return this.actionName}}]),t}();return t.actionName="",t}(),et=((J=function(){function e(){d(this,e),this.connectSuccessed=!1,this._containers=new w.a(new Map),this._plugin=(window.___ReduxDevtoolsPlugin___||(window.___ReduxDevtoolsPlugin___=new Q),window.___ReduxDevtoolsPlugin___),this._combinedStateSubscription=new j.a,this._plugin.isConnectSuccessed()&&(this.connectSuccessed=!0,this._assignCombinedState(),console.log("\u662f\u5426\u5728Angular\u5f00\u53d1\u73af\u5883\uff1a".concat(Object(h.U)(),", \u521d\u59cb\u5316root-store")))}return f(e,[{key:"_assignCombinedState",value:function(){var t=this;this._combinedStateSubscription=this._containers.pipe(Object(q.a)(function(e){return t._getCombinedState(e)})).pipe(Object(P.a)(function(t){var e=tt.getActionName();return{state:t.reduce(function(t,e){return t[e.containerName]=e.state,t},{}),actionName:e}})).subscribe(function(e){t._plugin.handleNewState(e.actionName,e.state)})}},{key:"_getCombinedState",value:function(e){return Object(H.a).apply(void 0,s(Array.from(e.entries()).map(function(e){var n=t(e,2),i=n[0];return n[1].state$.pipe(Object(P.a)(function(t){return{containerName:i,state:t}}),Object(Z.a)(function(t){}))})))}},{key:"ngOnDestroy",value:function(){this._combinedStateSubscription.unsubscribe()}},{key:"registerStore",value:function(t){if(this.connectSuccessed){var e=new Map(this._containers.value);if(e.has(t.getStoreInstanceId()))throw new Error("Store: Store with duplicate instance ID found! ".concat(t.getStoreInstanceId()," is already registered. Please check your getStoreInstanceId() methods!"));e.set(t.getStoreInstanceId(),t),this._containers.next(e)}}},{key:"existStoreInstanceId",value:function(t){return!!new Map(this._containers.value).has(t)}},{key:"unregisterStore",value:function(t){if(this.connectSuccessed){var e=new Map(this._containers.value);e.delete(t.getStoreInstanceId()),this._containers.next(e)}}}]),e}()).\u0275fac=function(t){return new(t||J)},J.\u0275prov=h.Jb({token:J,factory:J.\u0275fac}),J);function nt(){return Y||(Y=new et),Y}function it(t,e){var n={};return t.forEach(function(t){n[t[e]]=t}),n}function ot(t){return Array.isArray(t)?t:[t]}var rt=u("4e/d"),ct=u("uCWR");function st(t,e){return e?function(n){return n.pipe(st(function(n,i){return Object(C.a)(t(n,i)).pipe(Object(P.a)(function(t,o){return e(n,t,i,o)}))}))}:function(e){return e.lift(new at(t))}}var at=function(){function t(e){d(this,t),this.project=e}return f(t,[{key:"call",value:function(t,e){return e.subscribe(new ut(t,this.project))}}]),t}(),ut=function(t){n(i,t);var e=o(i);function i(t,n){var o;return d(this,i),(o=e.call(this,t)).project=n,o.hasSubscription=!1,o.hasCompleted=!1,o.index=0,o}return f(i,[{key:"_next",value:function(t){this.hasSubscription||this.tryNext(t)}},{key:"tryNext",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this.hasSubscription=!0,this._innerSub(e)}},{key:"_innerSub",value:function(t){var e=new ct.a(this),n=this.destination;n.add(e);var i=Object(ct.c)(t,e);i!==e&&n.add(i)}},{key:"_complete",value:function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(t){this.destination.next(t)}},{key:"notifyError",value:function(t){this.destination.error(t)}},{key:"notifyComplete",value:function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()}}]),i}(ct.b);function lt(t){return function(e,n,i){var o=function(t){return t.hasOwnProperty(p)||(t[p]={actions:{},path:null,children:[],instance:null}),t[p]}(e);t||(t={type:n}),"string"==typeof t&&(t={type:t});var r=t.type;if(!t.type)throw new Error("Action ".concat(t.type,' is missing a static "type" property'));var c=i.value;o.actions[r]={fn:n,originalFn:c,type:r},i.value=function(){tt.changeAction("".concat(e.constructor.name,"-").concat(n));for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];var s=c.call.apply(c,[this].concat(o));return s instanceof M.a&&(s=s.pipe(Object(rt.a)(function(e){return Object(R.a)({status:"ERRORED",action:t,error:e})}),V(),st(function(t){return t&&"ERRORED"===t.status?A(t.error):Object(R.a)(t)}))).subscribe(),s}}}function ft(t){return!!t&&"function"==typeof t}var dt,ht=((dt=function(){function t(e){if(d(this,t),this.reduxToolEnabled=Object(h.U)(),this._defaultStoreInstanceId=this._getClassName(),this.state$=new w.a(e),this.initialStateCache=Object.assign({},e),this.reduxToolEnabled){var n=nt();tt.changeAction("Add-".concat(this._defaultStoreInstanceId)),n.registerStore(this)}}return f(t,[{key:"snapshot",get:function(){return this.state$.getValue()}},{key:"dispatch",value:function(t,e){tt.changeAction("".concat(this._defaultStoreInstanceId,"-").concat(t));var n=this._dispatch({type:t,payload:e});return n.subscribe(),n}},{key:"_dispatch",value:function(t){var e=this[p];if(!e)throw new Error("".concat(p," is not found, current store has not action"));var n=e.actions[t.type];if(!n)throw new Error("".concat(t.type," is not found"));var i=n.originalFn.call(this,this.snapshot,t.payload);return i instanceof Promise&&(i=Object(C.a)(i)),(i=i instanceof M.a?i.pipe(Object(P.a)(function(t){return t})):new M.a(function(t){t.next({})})).pipe(V())}},{key:"select",value:function(t){return this.state$.pipe(Object(P.a)(t),function(t){return t.lift(new X(void 0,void 0))})}},{key:"next",value:function(t){this.state$.next(t)}},{key:"error",value:function(t){this.state$.error(t)}},{key:"complete",value:function(){this.state$.complete()}},{key:"subscribe",value:function(t,e,n){return this.state$.subscribe(t,e,n)}},{key:"setState",value:function(t){ft(t)?this.next(Object.assign(Object.assign({},this.snapshot),t(this.snapshot))):this.next(Object.assign(Object.assign({},this.snapshot),t))}},{key:"getState",value:function(){return this.snapshot}},{key:"clearState",value:function(){this.setState(this.initialStateCache)}},{key:"ngOnDestroy",value:function(){this.reduxToolEnabled&&nt().unregisterStore(this)}},{key:"getStoreInstanceId",value:function(){return this._defaultStoreInstanceId}},{key:"_getClassName",value:function(){var t=this.constructor.name||/function (.+)\(/.exec(this.constructor+"")[1];if(this.reduxToolEnabled){var e=nt();if(!e.existStoreInstanceId(t))return t;for(var n=0,i=1;i<20;i++)if(!e.existStoreInstanceId("".concat(t,"-").concat(i))){n=i;break}return"".concat(t,"-").concat(n)}return t}}]),t}()).\u0275fac=function(t){h.ac()},dt.\u0275prov=h.Jb({token:dt,factory:dt.\u0275fac}),l([lt()],dt.prototype,"clearState",null),dt);function pt(t,e){return e&&e[t]?e[t]:"_id"}function gt(t,e,n){var i=function(i){if(e.hasOwnProperty(i)){var o=e[i],r=pt(i,n),c=t[i];if(!c)throw new Error("original reference must exist when append new reference: ".concat(i));if(c instanceof Array){var a=function(t,e){var n={};return t.forEach(function(t,i){n[t[e]]=i}),n}(t[i],r);if(o instanceof Array)o.forEach(function(e){var n=a[e[r]];n>=0?c[n]=Object.assign(Object.assign({},c[n]),e):t[i]=[].concat(s(t[i]),[e])});else{var u=o[r],l=a[u];u>=0?c[l]=Object.assign(Object.assign({},c[l]),o):t[i]=[].concat(s(t[i]),[o])}}else t[i]=Object.assign(Object.assign({},t[i]),o)}};for(var o in e)i(o);return t}var bt=u("5XID"),vt=function(){function t(e,n){d(this,t),this.idKey="_id",this.entities=e||[],n&&n.idKey&&(this.idKey=n.idKey)}return f(t,[{key:"add",value:function(t,e){var n=this,i=Object(bt.a)(t);if(0===i.length)return this.entities;if(e&&(e.afterId||e.prepend))if(e.afterId){var o=s(this.entities),r=this.entities.findIndex(function(t){return t[n.idKey]===e.afterId})+1;o.splice.apply(o,[r,0].concat(s(i))),this.entities=s(o)}else e.prepend&&(this.entities=[].concat(s(i),s(this.entities)));else this.entities=[].concat(s(this.entities),s(i));return this.entities}},{key:"update",value:function(t,e){for(var n=Object(bt.a)(t),i=0;i<this.entities.length;i++){var o=this.entities[i];if(n.indexOf(o[this.idKey])>=0){var r=ft(e)?e(o):e;this.entities[i]=Object.assign(Object.assign({},o),r)}}return s(this.entities)}},{key:"remove",value:function(t){var e=this;if(ft(t))this.entities=this.entities.filter(function(e){return!t(e)});else{var n=Object(bt.a)(t);this.entities=this.entities.filter(function(t){return-1===n.indexOf(t[e.idKey])})}return this.entities}},{key:"move",value:function(t,e){var n,i=this,o=this.entities.findIndex(function(e){return e[i.idKey]===t}),r=0,c=s(this.entities);if(!t||o<0)return s(this.entities);if(e&&(function(t){return void 0===t}(n=e.afterId)||function(t){return null===t}(n)?e.toIndex&&(r=e.toIndex):r=this.entities.findIndex(function(t){return t[i.idKey]===e.afterId})),(r=Math.max(0,Math.min(this.entities.length-1,r)))===o)return s(this.entities);for(var a=this.entities[o],u=r<o?-1:1,l=o;l!==r;l+=u)c[l]=c[l+u];return c[r]=a,s(c)}}]),t}();function yt(t,e){return new vt(t,e)}var mt,_t,kt,Ot,xt,wt=function(t){n(i,t);var e=o(i);function i(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{entities:[]},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{idKey:"_id"};if(d(this,i),(t=e.call(this,n)).entities$=t.select(function(t){return t.entities}),t.entitiesWithRefs$=t.entities$.pipe(Object(P.a)(function(e){return e?e.map(function(e){var n=Object.assign({},e);if(!t.onCombineRefs)throw new Error("onCombineRefs is not empty");return n.refs||(n.refs={}),t.onCombineRefs(n,t.internalReferencesIdMap,t.snapshot.references),n}):e})),t.trackBy=function(e,n){return n[t.options.idKey]},t.options=Object.assign({idKey:"_id"},o),!t.options.idKey)throw new Error("idKey is required in EntityStore");return t.buildReferencesIdMap(),r(t)}return f(i,[{key:"entities",get:function(){return this.snapshot.entities}},{key:"resetPagination",value:function(t,e){t.count=e;var n=Math.ceil(t.count/t.pageSize);t.pageCount=n,this.snapshot.pagination=Object.assign({},t)}},{key:"increasePagination",value:function(t){var e=this.snapshot.pagination;this.resetPagination(e,e.count+t)}},{key:"decreasePagination",value:function(t){var e=this.snapshot.pagination;e&&this.resetPagination(e,e.count-t)}},{key:"buildReferencesIdMap",value:function(){this.snapshot.references&&(this.internalReferencesIdMap=function(t,e){var n={};for(var i in t)if(t.hasOwnProperty(i)){var o=pt(i,e),r=t[i];if(r instanceof Array){var c=it(r,o);n[i]=c}}return n}(this.snapshot.references,this.options.referencesIdKeys))}},{key:"initialize",value:function(t,e){var n=this.snapshot;n.entities=t||[],n.pagination=e,this.next(n)}},{key:"initializeWithReferences",value:function(t,e,n){var i=this.snapshot;i.entities=t||[],i.pagination=n,i.references=e,this.buildReferencesIdMap(),this.next(i)}},{key:"addInternal",value:function(t,e,n){var i=ot(t);if(0!==i.length){var o=this.snapshot;o.entities=yt(o.entities).add(i,n),o.references&&(gt(o.references,e,this.options.referencesIdKeys),this.buildReferencesIdMap()),o.pagination&&(this.increasePagination(i.length),n&&!n.prepend&&n.autoGotoLastPage&&(o.pagination.pageIndex=o.pagination.pageCount)),this.next(o)}}},{key:"add",value:function(t,e){this.addInternal(t,void 0,e)}},{key:"addWithReferences",value:function(t,e,n){this.addInternal(t,e,n)}},{key:"updateInternal",value:function(t,e,n){for(var i=ot(t),o=this.snapshot,r=0;r<o.entities.length;r++){var c=o.entities[r];if(i.includes(c[this.options.idKey])){var a=ft(e)?e(c):e;o.entities[r]=Object.assign(Object.assign({},c),a)}}o.entities=s(o.entities),o.references&&(gt(o.references,n,this.options.referencesIdKeys),this.buildReferencesIdMap()),this.next(o)}},{key:"update",value:function(t,e){this.updateInternal(t,e,void 0)}},{key:"updateWithReferences",value:function(t,e,n){this.updateInternal(t,e,n)}},{key:"remove",value:function(t){var e=this.snapshot,n=e.entities.length;e.entities=yt(e.entities,this.options).remove(t),this.decreasePagination(n-e.entities.length),this.next(e)}},{key:"clearPagination",value:function(){var t=this.snapshot;t.pagination=null,this.next(t)}},{key:"clear",value:function(){var t=this.snapshot;t.entities=[],t.pagination=null,t.references=null,this.next(t)}}]),i}(ht),Ct=((mt=function(t){n(i,t);var e=o(i);function i(){return d(this,i),e.call(this,{count:0})}return f(i,[{key:"increase",value:function(){var t=this;return Object(R.a)(!0).pipe(Object(Z.a)(function(){t.setState({count:t.snapshot.count+1})}))}},{key:"decrease",value:function(){var t=this;return Object(R.a)(!0).pipe(Object(Z.a)(function(){t.setState(function(t){return{count:t.count-1}})}))}}],[{key:"countSelector",value:function(t){return t.count}}]),i}(ht)).\u0275fac=function(t){return new(t||mt)},mt.\u0275prov=h.Jb({token:mt,factory:mt.\u0275fac}),l([lt()],mt.prototype,"increase",null),l([lt()],mt.prototype,"decrease",null),mt),Mt=u("2kYt"),Pt=((xt=function(){function t(e){d(this,t),this.counterStore=e,this.count$=this.counterStore.select(Ct.countSelector)}return f(t,[{key:"ngOnInit",value:function(){}},{key:"increase",value:function(){this.counterStore.increase()}},{key:"decrease",value:function(){this.counterStore.decrease()}}]),t}()).\u0275fac=function(t){return new(t||xt)(h.Nb(Ct))},xt.\u0275cmp=h.Hb({type:xt,selectors:[["thy-store-counter-example"]],decls:7,vars:3,consts:[[1,"dg-btn","dg-btn-primary","dg-btn-sm",3,"click"]],template:function(t,e){1&t&&(h.Tb(0,"div"),h.zc(1),h.fc(2,"async"),h.Sb(),h.Tb(3,"button",0),h.bc("click",function(){return e.increase()}),h.zc(4,"+"),h.Sb(),h.Tb(5,"button",0),h.bc("click",function(){return e.decrease()}),h.zc(6,"-"),h.Sb()),2&t&&(h.Bb(1),h.Bc("Count: ",h.gc(2,1,e.count$),""))},pipes:[Mt.b],styles:["[_nghost-%COMP%]   button[_ngcontent-%COMP%] + button[_ngcontent-%COMP%]{margin-left:10px}"]}),xt),St=((Ot=function(t){n(i,t);var e=o(i);function i(t){var n;return d(this,i),(n=e.call(this,{entities:[]},{idKey:"id"})).todosApiService=t,n}return f(i,[{key:"getWithCompleted",value:function(t){return this.entities.filter(function(e){return e.completed===t})}},{key:"getCompleted",value:function(){return this.getWithCompleted(!0)}},{key:"allCompleted",value:function(){return this.entities.length===this.getCompleted().length}},{key:"getRemaining",value:function(){return this.getWithCompleted(!1)}},{key:"fetchTodos",value:function(){var t=this;return this.todosApiService.fetchTodos().pipe(Object(Z.a)(function(e){_t=e.length,t.initialize(e,{pageIndex:1,pageCount:2,pageSize:20})}))}},{key:"addTodo",value:function(t){var e=this;return Object(R.a)(!0).pipe(Object(Z.a)(function(){e.add({id:++_t,title:t,completed:!1})}))}},{key:"updateTodo",value:function(t,e){if(0===e.length)return this.remove(t.id);this.update(t.id,{editing:!1,title:e})}},{key:"toggleCompletion",value:function(t){this.update(t.id,{completed:!t.completed})}},{key:"removeCompleted",value:function(){var t=this.getCompleted();this.remove(t.map(function(t){return t.id}))}},{key:"removeTodo",value:function(t){this.remove(t.id)}},{key:"setAllTo",value:function(t){this.update(this.entities.map(function(t){return t.id}),{completed:t})}}],[{key:"todosSelector",value:function(t){return t.entities}}]),i}(wt)).\u0275fac=function(t){return new(t||Ot)(h.Xb(Tt))},Ot.\u0275prov=h.Jb({token:Ot,factory:Ot.\u0275fac,providedIn:"root"}),l([lt()],Ot.prototype,"fetchTodos",null),l([lt()],Ot.prototype,"addTodo",null),l([lt()],Ot.prototype,"updateTodo",null),l([lt()],Ot.prototype,"toggleCompletion",null),l([lt()],Ot.prototype,"removeCompleted",null),l([lt()],Ot.prototype,"removeTodo",null),l([lt()],Ot.prototype,"setAllTo",null),Ot),Tt=((kt=function(){function t(){d(this,t)}return f(t,[{key:"fetchTodos",value:function(){return Object(R.a)([{id:1,title:"Todo1",completed:!1}])}}]),t}()).\u0275fac=function(t){return new(t||kt)},kt.\u0275prov=h.Jb({token:kt,factory:kt.\u0275fac,providedIn:"root"}),kt),It=u("nIj0");function jt(t,e){if(1&t){var n=h.Ub();h.Tb(0,"input",10,11),h.bc("click",function(){h.sc(n);var t=h.rc(1);return h.ec(3).todosStore.setAllTo(t.checked)}),h.Sb()}if(2&t){var i=h.ec(3);h.lc("checked",i.todosStore.allCompleted())}}function Et(t,e){if(1&t){var n=h.Ub();h.Tb(0,"input",17,18),h.bc("blur",function(){h.sc(n);var t=h.rc(1),e=h.ec().$implicit;return h.ec(3).stopEditing(e,t.value)})("keyup.enter",function(){h.sc(n);var t=h.rc(1),e=h.ec().$implicit;return h.ec(3).update(e,t.value)})("keyup.escape",function(){h.sc(n);var t=h.ec().$implicit;return h.ec(3).cancelEditingTodo(t)}),h.Sb()}if(2&t){var i=h.ec().$implicit;h.lc("value",i.title)}}function Nt(t,e){if(1&t){var n=h.Ub();h.Tb(0,"li"),h.Tb(1,"div",12),h.Tb(2,"input",13),h.bc("click",function(){h.sc(n);var t=e.$implicit;return h.ec(3).toggleCompletion(t)}),h.Sb(),h.Tb(3,"label",14),h.bc("dblclick",function(){h.sc(n);var t=e.$implicit;return h.ec(3).editTodo(t)}),h.zc(4),h.Sb(),h.Tb(5,"button",15),h.bc("click",function(){h.sc(n);var t=e.$implicit;return h.ec(3).remove(t)}),h.Sb(),h.Sb(),h.xc(6,Et,2,1,"input",16),h.Sb()}if(2&t){var i=e.$implicit;h.Fb("completed",i.completed)("editing",i.editing),h.Bb(2),h.lc("checked",i.completed),h.Bb(2),h.Ac(i.title),h.Bb(2),h.lc("ngIf",i.editing)}}function Rt(t,e){if(1&t&&(h.Tb(0,"section",6),h.xc(1,jt,2,1,"input",7),h.Tb(2,"ul",8),h.xc(3,Nt,7,7,"li",9),h.Sb(),h.Sb()),2&t){var n=h.ec().ngIf,i=h.ec();h.Bb(1),h.lc("ngIf",n.length),h.Bb(2),h.lc("ngForOf",n)("ngForTrackBy",i.todosStore.trackByFn)}}function At(t,e){if(1&t){var n=h.Ub();h.Tb(0,"button",22),h.bc("click",function(){return h.sc(n),h.ec(3).removeCompleted()}),h.zc(1,"Clear completed"),h.Sb()}}function zt(t,e){if(1&t&&(h.Tb(0,"footer",19),h.Tb(1,"span",20),h.Tb(2,"strong"),h.zc(3),h.Sb(),h.zc(4),h.Sb(),h.xc(5,At,2,0,"button",21),h.Sb()),2&t){var n=h.ec(2);h.Bb(3),h.Ac(n.todosStore.getRemaining().length),h.Bb(1),h.Bc(" ",1==n.todosStore.getRemaining().length?"item":"items"," left"),h.Bb(1),h.lc("ngIf",n.todosStore.getCompleted().length>0)}}function Dt(t,e){if(1&t){var n=h.Ub();h.Tb(0,"section",1),h.Tb(1,"header",2),h.Tb(2,"h1"),h.zc(3,"todos"),h.Sb(),h.Tb(4,"input",3),h.bc("ngModelChange",function(t){return h.sc(n),h.ec().newTodoText=t})("keyup.enter",function(){return h.sc(n),h.ec().addTodo()}),h.Sb(),h.Sb(),h.xc(5,Rt,4,3,"section",4),h.xc(6,zt,6,3,"footer",5),h.Sb()}if(2&t){var i=e.ngIf,o=h.ec();h.Bb(4),h.lc("ngModel",o.newTodoText),h.Bb(1),h.lc("ngIf",i&&i.length>0),h.Bb(1),h.lc("ngIf",i.length>0)}}var Bt,Ft,Kt,$t=((Kt=function(){function t(e){d(this,t),this.todosStore=e,this.todos$=this.todosStore.select(St.todosSelector)}return f(t,[{key:"ngOnInit",value:function(){this.todosStore.fetchTodos()}},{key:"addTodo",value:function(){var t=this;this.todosStore.addTodo(this.newTodoText).subscribe(function(){t.newTodoText=""})}},{key:"toggleCompletion",value:function(t){this.todosStore.toggleCompletion(t)}},{key:"editTodo",value:function(t){t.editing=!0}},{key:"remove",value:function(t){this.todosStore.removeTodo(t)}},{key:"update",value:function(t,e){this.todosStore.updateTodo(t,e)}},{key:"stopEditing",value:function(t,e){t.title=e,t.editing=!1}},{key:"cancelEditing",value:function(t){t.editing=!1}},{key:"removeCompleted",value:function(){this.todosStore.removeCompleted()}}]),t}()).\u0275fac=function(t){return new(t||Kt)(h.Nb(St))},Kt.\u0275cmp=h.Hb({type:Kt,selectors:[["thy-store-todos-example"]],decls:2,vars:3,consts:[["class","todoapp",4,"ngIf"],[1,"todoapp"],[1,"header"],["placeholder","What needs to be done?","autofocus","",1,"new-todo",3,"ngModel","ngModelChange","keyup.enter"],["class","main",4,"ngIf"],["class","footer",4,"ngIf"],[1,"main"],["id","toggle-all","class","toggle-all","type","checkbox",3,"checked","click",4,"ngIf"],[1,"todo-list"],[3,"completed","editing",4,"ngFor","ngForOf","ngForTrackBy"],["id","toggle-all","type","checkbox",1,"toggle-all",3,"checked","click"],["toggleAll",""],[1,"view"],["type","checkbox",1,"toggle",3,"checked","click"],[3,"dblclick"],[1,"destroy",3,"click"],["class","edit",3,"value","blur","keyup.enter","keyup.escape",4,"ngIf"],[1,"edit",3,"value","blur","keyup.enter","keyup.escape"],["editor",""],[1,"footer"],[1,"todo-count"],["class","clear-completed",3,"click",4,"ngIf"],[1,"clear-completed",3,"click"]],template:function(t,e){1&t&&(h.xc(0,Dt,7,3,"section",0),h.fc(1,"async")),2&t&&h.lc("ngIf",h.gc(1,1,e.todos$))},directives:[Mt.m,It.a,It.c,It.d,Mt.l],pipes:[Mt.b],styles:['@charset "UTF-8";button[_ngcontent-%COMP%]{margin:0;padding:0;border:0;background:none;font-size:100%;vertical-align:baseline;font-family:inherit;font-weight:inherit;color:inherit;-webkit-appearance:none;-moz-appearance:none;appearance:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.hidden[_ngcontent-%COMP%]{display:none}.todoapp[_ngcontent-%COMP%]{background:#fff;margin:130px 0 40px;position:relative;box-shadow:0 2px 4px 0 rgba(0,0,0,.2),0 25px 50px 0 rgba(0,0,0,.1)}.todoapp[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-webkit-input-placeholder{font-style:italic;font-weight:400;color:rgba(0,0,0,.4)}.todoapp[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-moz-placeholder{font-style:italic;font-weight:400;color:rgba(0,0,0,.4)}.todoapp[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::input-placeholder{font-style:italic;font-weight:400;color:rgba(0,0,0,.4)}.todoapp[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{position:absolute;top:-140px;width:100%;font-size:80px;font-weight:200;text-align:center;color:#b83f45;-webkit-text-rendering:optimizeLegibility;-moz-text-rendering:optimizeLegibility;text-rendering:optimizeLegibility}.edit[_ngcontent-%COMP%], .new-todo[_ngcontent-%COMP%]{position:relative;margin:0;width:100%;font-size:24px;font-family:inherit;font-weight:inherit;line-height:1.4em;color:inherit;padding:6px;border:1px solid #999;box-shadow:inset 0 -1px 5px 0 rgba(0,0,0,.2);box-sizing:border-box;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.new-todo[_ngcontent-%COMP%]{padding:16px 16px 16px 60px;height:65px;border:none;background:rgba(0,0,0,.003);box-shadow:inset 0 -2px 1px rgba(0,0,0,.03)}.main[_ngcontent-%COMP%]{position:relative;z-index:2;border-top:1px solid #e6e6e6}.toggle-all[_ngcontent-%COMP%]{width:1px;height:1px;border:none;opacity:0;position:absolute;right:100%;bottom:100%}.toggle-all[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:45px;height:65px;font-size:0;position:absolute;top:-65px;left:0}.toggle-all[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]:before{content:"\u276f";display:inline-block;font-size:22px;color:#949494;padding:10px 27px;transform:rotate(90deg)}.toggle-all[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:before{color:#484848}.todo-list[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none}.todo-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:relative;font-size:24px;border-bottom:1px solid #ededed}.todo-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{border-bottom:none}.todo-list[_ngcontent-%COMP%]   li.editing[_ngcontent-%COMP%]{border-bottom:none;padding:0}.todo-list[_ngcontent-%COMP%]   li.editing[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]{display:block;width:calc(100% - 43px);padding:12px 16px;margin:0 0 0 43px}.todo-list[_ngcontent-%COMP%]   li.editing[_ngcontent-%COMP%]   .view[_ngcontent-%COMP%]{display:none}.todo-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .toggle[_ngcontent-%COMP%]{text-align:center;width:40px;height:auto;position:absolute;top:0;bottom:0;margin:auto 0;border:none;-webkit-appearance:none;-moz-appearance:none;appearance:none;opacity:0}.todo-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .toggle[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]{background-image:url("data:image/svg+xml;utf8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2240%22%20height%3D%2240%22%20viewBox%3D%22-10%20-18%20100%20135%22%3E%3Ccircle%20cx%3D%2250%22%20cy%3D%2250%22%20r%3D%2250%22%20fill%3D%22none%22%20stroke%3D%22%23949494%22%20stroke-width%3D%223%22/%3E%3C/svg%3E");background-repeat:no-repeat;background-position:0}.todo-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .toggle[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]{background-image:url("data:image/svg+xml;utf8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2240%22%20height%3D%2240%22%20viewBox%3D%22-10%20-18%20100%20135%22%3E%3Ccircle%20cx%3D%2250%22%20cy%3D%2250%22%20r%3D%2250%22%20fill%3D%22none%22%20stroke%3D%22%2359A193%22%20stroke-width%3D%223%22%2F%3E%3Cpath%20fill%3D%22%233EA390%22%20d%3D%22M72%2025L42%2071%2027%2056l-4%204%2020%2020%2034-52z%22%2F%3E%3C%2Fsvg%3E")}.todo-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{word-break:break-all;padding:15px 15px 15px 60px;display:block;line-height:1.2;transition:color .4s;font-weight:400;color:#484848}.todo-list[_ngcontent-%COMP%]   li.completed[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#949494;text-decoration:line-through}.todo-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .destroy[_ngcontent-%COMP%]{display:none;position:absolute;top:0;right:10px;bottom:0;width:40px;height:40px;margin:auto 0;font-size:30px;color:#949494;transition:color .2s ease-out}.todo-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .destroy[_ngcontent-%COMP%]:focus, .todo-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .destroy[_ngcontent-%COMP%]:hover{color:#c18585}.todo-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .destroy[_ngcontent-%COMP%]:after{content:"\xd7";display:block;height:100%;line-height:1.1}.todo-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover   .destroy[_ngcontent-%COMP%]{display:block}.todo-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]{display:none}.todo-list[_ngcontent-%COMP%]   li.editing[_ngcontent-%COMP%]:last-child{margin-bottom:-1px}.footer[_ngcontent-%COMP%]{padding:10px 15px;height:20px;text-align:center;font-size:15px;border-top:1px solid #e6e6e6}.footer[_ngcontent-%COMP%]:before{content:"";position:absolute;right:0;bottom:0;left:0;height:50px;overflow:hidden;box-shadow:0 1px 1px rgba(0,0,0,.2),0 8px 0 -3px #f6f6f6,0 9px 1px -3px rgba(0,0,0,.2),0 16px 0 -6px #f6f6f6,0 17px 2px -6px rgba(0,0,0,.2)}.todo-count[_ngcontent-%COMP%]{float:left;text-align:left}.todo-count[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:300}.filters[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none;position:absolute;right:0;left:0}.filters[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline}.filters[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:inherit;margin:3px;padding:3px 7px;text-decoration:none;border:1px solid transparent;border-radius:3px}.filters[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{border-color:#db7676}.filters[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.selected[_ngcontent-%COMP%]{border-color:#ce4646}.clear-completed[_ngcontent-%COMP%], html[_ngcontent-%COMP%]   .clear-completed[_ngcontent-%COMP%]:active{float:right;position:relative;line-height:19px;text-decoration:none;cursor:pointer}.clear-completed[_ngcontent-%COMP%]:hover{text-decoration:underline}.info[_ngcontent-%COMP%]{margin:65px auto 0;color:#4d4d4d;font-size:11px;text-shadow:0 1px 0 hsla(0,0%,100%,.5);text-align:center}.info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:1}.info[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:inherit;text-decoration:none;font-weight:400}.info[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}@media screen and (-webkit-min-device-pixel-ratio:0){.todo-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .toggle[_ngcontent-%COMP%], .toggle-all[_ngcontent-%COMP%]{background:none}.todo-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .toggle[_ngcontent-%COMP%]{height:40px}}@media (max-width:430px){.footer[_ngcontent-%COMP%]{height:50px}.filters[_ngcontent-%COMP%]{bottom:10px}}.toggle-all[_ngcontent-%COMP%]:focus + label[_ngcontent-%COMP%], .toggle[_ngcontent-%COMP%]:focus + label[_ngcontent-%COMP%], [_ngcontent-%COMP%]:focus{box-shadow:0 0 2px 2px #cf7d7d;outline:0}']}),Kt),Wt=((Ft=function(t){n(i,t);var e=o(i);function i(){return d(this,i),e.call(this,{entities:[]},{})}return f(i,[{key:"onCombineRefs",value:function(t,e,n){t.refs.assignee=e.users[t.assignee],t.refs.created_by=e.users[t.created_by]}},{key:"fetchTasks",value:function(){var t=this;return Object(R.a)({tasks:[{_id:"task1",title:"Task 1",assignee:"user1",created_by:"user1"}],references:{users:[{_id:"user1",name:"why520crazy"},{_id:"user2",name:"peter"}]}}).pipe(Object(Z.a)(function(e){t.initializeWithReferences(e.tasks,e.references)}))}},{key:"addTask",value:function(t){this.addWithReferences({_id:"task"+ ++Bt,title:t,created_by:"user3",assignee:"user3"},{users:[{_id:"user3",name:"Terry"}]})}}]),i}(wt)).\u0275fac=function(t){return new(t||Ft)},Ft.\u0275prov=h.Jb({token:Ft,factory:Ft.\u0275fac,providedIn:"root"}),l([lt()],Ft.prototype,"fetchTasks",null),l([lt()],Ft.prototype,"addTask",null),Ft);function Lt(t,e){if(1&t&&(h.Tb(0,"div"),h.zc(1),h.Sb()),2&t){var n=e.$implicit;h.Bb(1),h.Cc("",n.title," - ",null==n.refs.assignee?null:n.refs.assignee.name,"")}}function Ut(t,e){if(1&t&&(h.Tb(0,"div"),h.xc(1,Lt,2,2,"div",3),h.Sb()),2&t){var n=e.ngIf,i=h.ec();h.Bb(1),h.lc("ngForOf",n)("ngForTrackBy",i.tasksStore.trackBy)}}var Vt,Yt,Jt={"thy-store-counter-example":Pt,"thy-store-todos-example":$t,"thy-store-tasks-example":(Yt=function(){function t(e){d(this,t),this.tasksStore=e}return f(t,[{key:"ngOnInit",value:function(){this.tasksStore.fetchTasks()}},{key:"addTask",value:function(){this.tasksStore.addTask(this.newTaskTitle),this.newTaskTitle=""}}]),t}(),Yt.\u0275fac=function(t){return new(t||Yt)(h.Nb(Wt))},Yt.\u0275cmp=h.Hb({type:Yt,selectors:[["thy-store-tasks-example"]],decls:6,vars:4,consts:[[1,"header"],["placeholder","Add new task?","autofocus","",1,"new-task",3,"ngModel","ngModelChange","keyup.enter"],[4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"]],template:function(t,e){1&t&&(h.Tb(0,"header",0),h.Tb(1,"h1"),h.zc(2,"Tasks"),h.Sb(),h.Tb(3,"input",1),h.bc("ngModelChange",function(t){return e.newTaskTitle=t})("keyup.enter",function(){return e.addTask()}),h.Sb(),h.Sb(),h.xc(4,Ut,2,2,"div",2),h.fc(5,"async")),2&t&&(h.Bb(3),h.lc("ngModel",e.newTaskTitle),h.Bb(1),h.lc("ngIf",h.gc(5,2,e.tasksStore.entitiesWithRefs$)))},directives:[It.a,It.c,It.d,Mt.m,Mt.l],pipes:[Mt.b],styles:[""]}),Yt)},Xt=((Vt=function t(){d(this,t)}).\u0275fac=function(t){return new(t||Vt)},Vt.\u0275mod=h.Lb({type:Vt}),Vt.\u0275inj=h.Kb({providers:[],imports:[[Mt.c,It.b,x.forRoot([Ct])]]}),Vt)}}])}();